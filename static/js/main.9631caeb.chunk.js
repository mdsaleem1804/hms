(this.webpackJsonphms=this.webpackJsonphms||[]).push([[0],{122:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(10),l=a.n(c),o=(a(95),a(96),a(72)),i=a(73),s=a(82),u=a(81),m=a(8),d=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isOpen:!1},e.toggleCollapse=function(){e.setState({isOpen:!e.state.isOpen})},e}return Object(i.a)(a,[{key:"logOut",value:function(e){e.preventDefault(),localStorage.clear(),window.location.href="./#/"}},{key:"render",value:function(){return r.a.createElement(m.j,{color:"default-color",dark:!0,expand:"md"},r.a.createElement(m.k,null,r.a.createElement("strong",{className:"white-text"},"HMS")),r.a.createElement(m.m,{onClick:this.toggleCollapse}),r.a.createElement(m.d,{id:"navbarCollapse3",isOpen:this.state.isOpen,navbar:!0},localStorage.usertoken?r.a.createElement(m.l,{right:!0},r.a.createElement(m.h,{active:!0},r.a.createElement(m.i,{to:"#!"},r.a.createElement(m.e,{icon:"home"}),"Dashboard")),r.a.createElement(m.h,null,r.a.createElement(m.i,{to:"/PatientRegistration"},r.a.createElement(m.e,{icon:"user-plus"}),"PatientRegistration")),r.a.createElement(m.h,null,r.a.createElement(m.i,{to:"/PatientList"},r.a.createElement(m.e,{icon:"table"}),"PatientList")),r.a.createElement(m.h,null,r.a.createElement(m.i,{to:"/SignIn",onClick:this.logOut.bind(this)},r.a.createElement(m.e,{icon:"sign-out-alt"}),"Logout"))):r.a.createElement(m.l,{right:!0},r.a.createElement(m.h,null,r.a.createElement(m.i,{to:"/SignIn"},"SignIn")))))}}]),a}(n.Component),p=(a(118),a(119),a(120),a(25)),b=a(30),f=a(34),h=a.n(f),E=a(44),g=a(19),v=a(179),j=a(165),O={getUrl:function(){return"http://hellotamila.com/sms_api/"},helper2:function(e){},helper3:function(e,t){}},y=function(e){var t=Object(n.useState)(e),a=Object(g.a)(t,2),r=a[0],c=a[1];return{value:r,setValue:c,reset:function(){return c("")},bind:{value:r,onChange:function(e){c(e.target.value)}}}},S=a(166),w=function(){var e=Object(n.useState)([]),t=Object(g.a)(e,2),a=(t[0],t[1]),c=(Object(b.f)(),Object(n.useState)("")),l=Object(g.a)(c,2),o=l[0],i=l[1],s=y(""),u=s.value,d=s.bind,p=s.reset,f=y(""),w=f.value,k=f.bind,C=f.reset,x=Object(n.useState)(!1),N=Object(g.a)(x,2),_=N[0],P=N[1];var I,U;return Object(n.useEffect)((function(){Object(E.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(O.getUrl()+"subject");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a(n.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[]),""===o||(I=r.a.createElement(v.a,{variant:"filled",severity:"warning"},o)),U=_?r.a.createElement("div",null,r.a.createElement(j.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:!0},"Save"),r.a.createElement(S.a,{color:"secondary"})):r.a.createElement(j.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Save"),r.a.createElement("div",{style:{padding:30}},r.a.createElement("form",{className:"needs-validation",onSubmit:function(e){e.preventDefault(),P(!0),i(""),fetch(O.getUrl()+"subject",{method:"POST",body:JSON.stringify({subject_code:u,subject_name:w}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){P(!1),"Subject successfully added"===e.message?function(e){i(e.message)}(e):(i("Record Not Created"),P(!1)),console.log(e)})).catch((function(e){console.log(e),i("Server Error."),P(!1)})),p(),C()}},r.a.createElement(m.p,null,r.a.createElement(m.c,{md:"4"},r.a.createElement(m.g,Object.assign({name:"subject_code",type:"text",id:"subject_code",label:"SubjectCode",required:!0},d))),r.a.createElement(m.c,{md:"4"},r.a.createElement(m.g,Object.assign({name:"subject_name",type:"text",id:"subject_name",label:"SubjectName",required:!0},k))),r.a.createElement(m.c,{md:"2"},U)),r.a.createElement("hr",null),I))},k=a(164),C=a(169),x=a(173),N=a(172),_=a(168),P=a(170),I=a(171),U=a(80),W=a.n(U),T=a(79),D=a.n(T),F=a(167),J=function(){var e,t=Object(n.useState)(!1),a=Object(g.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)([]),i=Object(g.a)(o,2),s=i[0],u=i[1];return Object(n.useEffect)((function(){l(!0),Object(E.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(O.getUrl()+"subject");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,u(a.data),l(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[]),c&&(e=r.a.createElement(F.a,{disableShrink:!0})),r.a.createElement(_.a,{component:k.a},r.a.createElement(C.a,{"aria-label":"simple table"},r.a.createElement(P.a,null,r.a.createElement(I.a,null,r.a.createElement(N.a,null,"Subject Code"),r.a.createElement(N.a,null,"Subject Name"),r.a.createElement(N.a,null,"Action")),e),r.a.createElement(x.a,null,s.map((function(e){return r.a.createElement(I.a,{key:e.subject_name},r.a.createElement(N.a,{component:"th",scope:"row"},e.subject_code),r.a.createElement(N.a,{component:"th",scope:"row"},e.subject_name),r.a.createElement(N.a,{component:"th",scope:"row"},r.a.createElement(D.a,{color:"primary",onClick:function(){return t=e,void console.log(t);var t}}),r.a.createElement(W.a,{color:"secondary",onClick:function(){return t=e.subject_id,void fetch(O.getUrl()+"subject",{method:"DELETE",body:JSON.stringify({subject_id:t}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(){return window.location.reload(!1)}));var t}})))})))))},L=a(176),R=a(178),q=a(177),A=a(174),B=a(175),M=Object(A.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function H(){var e=M(),t=Object(b.f)(),a=Object(n.useState)(""),c=Object(g.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)(!1),s=Object(g.a)(i,2),u=s[0],m=s[1],d=y(""),p=d.value,f=d.bind,h=d.reset,E=y(""),w=E.value,k=E.bind,C=E.reset;var x,N;return""===l||(x=r.a.createElement(v.a,{variant:"filled",severity:"error"},l)),N=u?r.a.createElement("div",null,r.a.createElement(j.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:!0,className:e.submit},"Sign In"),r.a.createElement(S.a,{color:"secondary"})):r.a.createElement(j.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign In"),r.a.createElement(B.a,{component:"main",maxWidth:"xs"},r.a.createElement(L.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(q.a,{component:"h1",variant:"h5"},"Sign in"),x,r.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault(),m(!0),o(""),fetch(O.getUrl()+"auth",{method:"POST",body:JSON.stringify({email:p,password:w}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){m(!1),"success"===e.message?function(e){localStorage.setItem("usertoken",e.data),t.push("/PatientRegistration"),window.location.reload(!1)}(e):(o("Please check with your credentials"),m(!1)),console.log(e)})).catch((function(e){console.log(e),o("Server Error."),m(!1)})),h(),C()}},r.a.createElement(R.a,Object.assign({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0},f)),r.a.createElement(R.a,Object.assign({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"},k)),N)))}var V=function(){return r.a.createElement(p.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement(b.c,null,r.a.createElement(b.a,{path:"/SignIn",component:function(){return r.a.createElement(H,null)}}),r.a.createElement(b.a,{path:"/PatientRegistration",component:function(){return r.a.createElement(w,null)}}),r.a.createElement(b.a,{path:"/PatientList",component:function(){return r.a.createElement(J,null)}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},90:function(e,t,a){e.exports=a(122)},95:function(e,t,a){},96:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.9631caeb.chunk.js.map